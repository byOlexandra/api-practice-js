{"version":3,"file":"index.js","sources":["../src/js/imdb-api.js","../src/main.js"],"sourcesContent":["export function getFilmByQuery(query) {\n    const baseURL = \"https://imdb236.p.rapidapi.com\";\n    const endPoint = \"/api/imdb/search\";\n    const params = new URLSearchParams({\n        originalTitle: query,\n    }) \n    const url = `${baseURL}${endPoint}?${params}`;\n\n    return fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"X-RapidAPI-Host\": \"imdb236.p.rapidapi.com\",\n            \"X-RapidAPI-Key\": \"4766653a73msh5c8737be62a1a51p1a3997jsn423a1928ab99\"\n        }\n    }).then(r => r.json());\n}\nconst loader = document.querySelector(\".loader\");\nconst searchReply = document.querySelector(\".search-reply\");\n\n// export function hideLoader() {\n//     loader.classList.add('hidden')\n// }\n\n// export function showLoader() {\n//     loader.classList.remove('hidden')\n// }\n\nexport function clearAll() {\n    searchReply.innerHTML = ''\n}\n","import { getFilmByQuery, clearAll } from \"./js/imdb-api\";\n\n\nconst form = document.querySelector(\".form\");\nconst loader = document.querySelector(\".loader\");\nconst searchReply = document.querySelector(\".search-reply\");\n\nform.addEventListener(\"submit\", e => {\n    e.preventDefault()\n    const search = e.target.elements['search-text'].value.trim();\n    if (!search) {\n        return `<h1>error</h1>`\n    }\n    clearAll()\n    // showLoader()\n    console.log(search);\n    \n    getFilmByQuery(search)\n    .then(item => {\n        const markup = item.results\n            .map(item => {\n                return `\n                    <li class=\"film\">\n                        <h3>${item.originalTitle || item.title}</h3>\n                        <p>${item.releaseDate || ''}</p>\n                        <img src=\"${item.primaryImage || ''}\" alt=\"${item.primaryTitle}\">\n                    </li>\n                `;\n            })\n            .join(\"\"); \n        searchReply.innerHTML = markup;\n    })\n})"],"names":["getFilmByQuery","query","baseURL","endPoint","params","url","searchReply","clearAll","form","e","search","item","markup"],"mappings":"0uBAAO,SAASA,EAAeC,EAAO,CAClC,MAAMC,EAAU,iCACVC,EAAW,mBACXC,EAAS,IAAI,gBAAgB,CAC/B,cAAeH,CACvB,CAAK,EACKI,EAAM,GAAGH,CAAO,GAAGC,CAAQ,IAAIC,CAAM,GAE3C,OAAO,MAAMC,EAAK,CACd,OAAQ,MACR,QAAS,CACL,kBAAmB,yBACnB,iBAAkB,oDACrB,CACJ,CAAA,EAAE,KAAK,GAAK,EAAE,KAAM,CAAA,CACzB,CACe,SAAS,cAAc,SAAS,EAC/C,MAAMC,EAAc,SAAS,cAAc,eAAe,EAUnD,SAASC,GAAW,CACvBD,EAAY,UAAY,EAC5B,CC1BA,MAAME,EAAO,SAAS,cAAc,OAAO,EAC5B,SAAS,cAAc,SAAS,EAC/C,MAAMF,EAAc,SAAS,cAAc,eAAe,EAE1DE,EAAK,iBAAiB,SAAUC,GAAK,CACjCA,EAAE,eAAgB,EAClB,MAAMC,EAASD,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OACtD,GAAI,CAACC,EACD,MAAO,iBAEXH,EAAU,EAEV,QAAQ,IAAIG,CAAM,EAElBV,EAAeU,CAAM,EACpB,KAAKC,GAAQ,CACV,MAAMC,EAASD,EAAK,QACf,IAAIA,GACM;AAAA;AAAA,8BAEOA,EAAK,eAAiBA,EAAK,KAAK;AAAA,6BACjCA,EAAK,aAAe,EAAE;AAAA,oCACfA,EAAK,cAAgB,EAAE,UAAUA,EAAK,YAAY;AAAA;AAAA,iBAGzE,EACA,KAAK,EAAE,EACZL,EAAY,UAAYM,CAChC,CAAK,CACL,CAAC"}